
## [8장 경계]

---

- 외부 코드 사용하기
    - 인터페이스 제공자와 인터페이스 사용자 사이에는 특유의 긴장이 존재한다.
        - 더 많은 환경에서 돌아가야 더 많은 고객이 구매하기 때문이다. 반면에 사용자는 자신의 요구에 집중하는 인터페이스를 바란다.
        - 이러한 긴장으로 인해 시스템 경계에서 문제가 생길 소지가 많다.
    - Map과 같은 경계 인터페이스를 이용할 때는 이를 이용하는 클래스나 클래스 계열 밖으로 노출되지 않도록 주의한다.
        - 그 이유는 사용자에게 필요하지 않은 기능까지 제공하여 수정할 코드가 많아질 수 있기 때문이다.
        - 경계 인터페이스 : 어떠한 메서드에서 Map, List와 같은 자료 구조를 반환하거나 공개 API 인수로 넘겨 클라이언트에서 해당 인터페이스를 사용하는 경우를 의미한다.

- 경계 살피고 익히기
    - 외부 코드를 익히기는 어렵다. 또한 이를 통합하기도 어렵다.
    - 곧바로 외부 코드를 호출하기보다는 간단한 테스트 케이스를 작성해 외부 코드를 익히는 것을 학습 테스트라고 한다. (by 짐 뉴커크)

- 아직 존재하지 않는 코드를 사용하기
    - 때로는 우리의 지식이 경계를 넘어, 미치지 못하는 코드 영역도 있다.
    - 우리는 경계에 부딪히며, 경계 너머 무지라는 안개와 구름으로 인해 한 치 앞도 내다보기 어려웠지만, 점차로 우리에게 필요한 경계 인터페이스가 무엇인지 알게 되었다.

- 깨끗한 경계
    - 통제하지 못하는 코드를 사용할 때는 너무 많은 투자를 하거나 향후 변경 비용이 지나치게 커지지 않도록 각별히 주의해야 한다.
    - 경계에 위치하는 코드는 깔끔하게 분리되며, 통제가 불가능한 외부 패키지에 의존하는 대신, 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다.
    - Map에서 봤듯이 새로운 클래스로 경계를 감싸거나 아니면 어탭터 패턴을 사용해 우리가 원하는 인터페이스를 패키지가 제공하는 인터페이스로 변환하자
    - 어느 방법이든 코드 가독성이 높아지며 경계 인터페이스를 사용하는 일관성도 높아지며 외부 패키지가 변했을 때 변경할 코드도 줄어들게 된다.
